---
import { Image } from "astro:assets";
import { createAstroTranslator } from "../../utils/i18n";

import gallery1 from "../../assets/photo/gallery/gallery1.jpg";
import gallery2 from "../../assets/photo/gallery/gallery2.jpg";
import gallery3 from "../../assets/photo/gallery/gallery3.jpg";
import gallery4 from "../../assets/photo/gallery/gallery4.jpg";
import gallery5 from "../../assets/photo/gallery/gallery5.jpg";
import gallery6 from "../../assets/photo/gallery/gallery6.jpg";
import gallery7 from "../../assets/photo/gallery/gallery7.jpg";
import gallery8 from "../../assets/photo/gallery/gallery8.jpg";
import gallery9 from "../../assets/photo/gallery/gallery9.jpg";
import gallery10 from "../../assets/photo/gallery/gallery10.jpg";
import gallery11 from "../../assets/photo/gallery/gallery11.jpg";
import gallery12 from "../../assets/photo/gallery/gallery12.jpg";
import gallery13 from "../../assets/photo/gallery/gallery13.jpg";

const t = createAstroTranslator(Astro.currentLocale, "main");

const galleryImages = [
    gallery1,
    gallery2,
    gallery3,
    gallery4,
    gallery5,
    gallery6,
    gallery7,
    gallery8,
    gallery9,
    gallery10,
    gallery11,
    gallery12,
    gallery13,
];
---

<section id="gallery" class="gallery">
    <div class="container">
        <h2 class="section-title">{t("gallery")}</h2>

        <div class="gallery-intro">
            <p class="gallery-description">{t("gallery_description")}</p>
        </div>

        <div class="gallery-container">
            <div class="gallery-grid">
                {
                    galleryImages.map((image, index) => (
                        <div class="gallery-item">
                            <Image
                                src={image}
                                alt={`Gallery image ${index + 1}`}
                                class="gallery-image"
                                loading="lazy"
                                widths={[320, 640, 960]}
                                sizes="(max-width: 768px) 280px, 320px"
                            />
                        </div>
                    ))
                }
            </div>
        </div>
    </div>
</section>

<style>
    .gallery {
        padding: 3rem 0;
        background-color: var(--light-bg);
        scroll-margin-top: 60px;
        width: 100%;
        overflow: hidden;
    }

    .gallery .container {
        padding: 0;
        max-width: none;
        width: 100%;
    }

    .section-title {
        font-size: 2rem;
        color: var(--purple);
        text-align: center;
        margin-bottom: 1.5rem;
        padding: 0 1.5rem;
    }

    .gallery-intro {
        text-align: center;
        max-width: 700px;
        margin: 0 auto 2rem;
        padding: 0 1.5rem;
    }

    .gallery-description {
        font-size: 1.1rem;
        color: var(--dark-text);
    }

    .gallery-container {
        position: relative;
        width: 100%;
        margin: 0;
        padding: 0;
    }

    .gallery-grid {
        display: flex;
        gap: 1.5rem;
        width: 100%;
        margin: 0;
        padding: 1rem 0 1.5rem;
        overflow-x: auto;
        scroll-padding: 1.5rem;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: var(--orange) #f0f0f0;
        scroll-behavior: smooth;
    }

    .gallery-grid::before,
    .gallery-grid::after {
        content: "";
        flex: 0 0 1rem;
    }

    .gallery-item {
        flex: 0 0 auto;
        width: 320px;
        overflow: hidden;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        background-color: white;
        transition:
            transform 0.3s ease,
            box-shadow 0.3s ease;
        scroll-snap-align: start;
        position: relative;
    }

    .gallery-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .gallery-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        aspect-ratio: 3 / 4;
    }

    @media (max-width: 768px) {
        .gallery-item {
            width: 280px;
        }
    }
</style>
